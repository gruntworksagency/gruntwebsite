---
import HeatLogo from "@components/HeatLogo.astro";
import NavLink from "@components/ui/links/NavLink.astro";
// import Authentication from "../misc/Authentication.astro";
import Container from "@components/ui/Container.astro";
import HeaderCTA from "@components/ui/buttons/HeaderCTA.astro";

const homeUrl = "/";

const navBarLinks = [
  { name: "Features", url: "#features" },
  { name: "FAQs", url: "#faqs" },
  { name: "Pricing", url: "#pricing" },
];
---

<header
  class="fixed inset-x-0 top-4 z-500 flex w-full flex-wrap text-sm md:flex-nowrap md:justify-start"
>
  <Container maxWidth="max-w-[1200px]" class="w-full">
    {
      /* UPDATED: Removed right-side padding on medium and larger screens (md:pr-0, lg:pr-0) 
      to allow the CTA button to be flush with the edge.
    */
    }
    <nav
      class="relative w-full rounded-[36px] border border-yellow-100/40 bg-yellow-50/60 px-4 py-3 backdrop-blur-md md:flex md:items-center md:justify-between md:px-6 md:py-0 md:pr-0 md:pl-6 lg:px-8 lg:pr-0 lg:pl-8"
      aria-label="Global"
      style="--nav-radius: 36px;"
    >
      <div class="flex items-center justify-between">
        <a
          class="flex-none rounded-lg text-xl font-bold ring-zinc-500 outline-hidden focus-visible:ring-3"
          href={homeUrl}
          aria-label="Brand"
        >
          <HeatLogo />
        </a>
        <div class="mr-5 ml-auto md:hidden">
          <button
            type="button"
            class="hs-collapse-toggle flex h-8 w-8 items-center justify-center rounded-full text-sm font-bold text-neutral-600 transition duration-300 hover:bg-neutral-200 disabled:pointer-events-none disabled:opacity-50"
            data-hs-collapse="#navbar-collapse-with-animation"
            aria-controls="navbar-collapse-with-animation"
            aria-label="Toggle navigation"
          >
            <svg
              class="hs-collapse-open:hidden h-[1.25rem] w-[1.25rem] shrink-0"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <line x1="3" x2="21" y1="6" y2="6"></line>
              <line x1="3" x2="21" y1="12" y2="12"></line>
              <line x1="3" x2="21" y1="18" y2="18"></line>
            </svg>
            <svg
              class="hs-collapse-open:block hidden h-[1.25rem] w-[1.25rem] shrink-0"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M18 6 6 18"></path>
              <path d="m6 6 12 12"></path>
            </svg>
          </button>
        </div>
        <!-- <span class="inline-block md:hidden">
          <ThemeIcon />
        </span> -->
      </div>
      <div
        id="navbar-collapse-with-animation"
        class="hs-collapse hidden grow basis-full overflow-hidden transition-all duration-300 md:block"
      >
        <div
          class="mt-5 flex flex-col gap-x-0 gap-y-4 md:mt-0 md:flex-row md:items-center md:justify-end md:gap-x-4 md:gap-y-0 md:ps-7 lg:gap-x-7"
        >
          {
            navBarLinks.map((link) => (
              <NavLink url={link.url} name={link.name} />
            ))
          }
          <!-- <Authentication /> -->

          {
            /* UPDATED: The URL will now point to the login page, passing the
            original destination as a 'redirectTo' query parameter.
          */
          }
          <HeaderCTA title="Start Audit" url="/login?redirectTo=/audit" />

          <!-- <span class="hidden md:inline-block">
            <ThemeIcon />
          </span> -->
        </div>
      </div>
    </nav>
  </Container>
</header>
